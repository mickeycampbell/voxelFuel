% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_voxel_mask.R
\name{build_voxel_mask}
\alias{build_voxel_mask}
\title{Build a voxel processing mask based on lidar point density and canopy height}
\usage{
build_voxel_mask(las, res = 10, min_density = 10, min_height = 5)
}
\arguments{
\item{las}{A \code{LAS} object containing height-normalized lidar point cloud data.}

\item{res}{Numeric. Resolution (in map units) used to compute point density and
canopy height rasters.}

\item{min_density}{Numeric. Minimum lidar point density (points per square meter)
required for a cell to be considered eligible.}

\item{min_height}{Numeric. Minimum canopy height (same units as \code{Z}) required for
a cell to be considered eligible.}
}
\value{
A \code{SpatRaster} where eligible cells are coded as \code{1} and ineligible cells
are \code{NA}. The raster is aligned to the input \code{las} extent and resolution.
}
\description{
This function creates a raster mask identifying areas eligible for voxel-based
fuel downscaling. A cell is considered eligible if it meets both a minimum lidar
point density threshold and a minimum canopy height threshold.
}
\details{
Lidar point density is computed as points per square meter, and canopy height
is estimated using a high quantile (0.999) of point elevations within each cell.

This mask is typically used to constrain subsequent voxel-based fuel allocation
to areas with sufficient lidar support and meaningful canopy structure.
}
\examples{
\dontrun{
library(lidR)
las_file <- system.file("extdata", "lidar_sample.laz", package = "voxelFuel")
las <- readLAS(las_file)
voxel_mask <- build_voxel_mask(las, res = 10, min_density = 10, min_height = 5)
}

}
