% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rasterize_voxel_stack.R
\name{rasterize_voxel_stack}
\alias{rasterize_voxel_stack}
\title{Rasterize voxel biomass into a vertical stack of 2D rasters}
\usage{
rasterize_voxel_stack(
  vm,
  fuel_rast,
  out_dir,
  base_name,
  voxel_res = 1,
  can_min_z = 1,
  can_max_z = 50
)
}
\arguments{
\item{vm}{A \code{data.table} of voxel-level biomass produced by
\code{\link{downscale_to_voxels}}, containing at least \code{X}, \code{Y}, \code{Z}, and
\code{bio_vox} columns.}

\item{fuel_rast}{A \code{SpatRaster} used as a spatial reference for extent,
resolution, and coordinate reference system.}

\item{out_dir}{Character. Output directory for raster files.}

\item{base_name}{Character. Base name used for output raster files.}

\item{voxel_res}{Numeric. Vertical and horizontal resolution of voxels
(in map units).}

\item{can_min_z}{Numeric. Minimum canopy height included in the stack.}

\item{can_max_z}{Numeric. Maximum canopy height included in the stack.}
}
\value{
A named list of \code{SpatRasters}:
\itemize{
\item \code{stack}
\item \code{stack_sum}
\item \code{stack_agg}
}
}
\description{
Converts voxel-level biomass estimates into a multi-layer raster stack,
where each layer represents a horizontal slice of the canopy at a fixed
height interval. Additional rasters are produced by summing the stack
vertically and aggregating back to the resolution of the input fuel raster.
}
\details{
This function writes three raster files to disk:
\itemize{
\item A multi-layer raster stack of voxel biomass (\verb{*_stack.tif})
\item A vertically summed raster (\verb{*_sum.tif})
\item An aggregated raster matching the resolution of \code{fuel_rast} (\verb{*_agg.tif})
}

Empty voxels are filled with zero to ensure consistent layer structure.
}
\examples{
\dontrun{
vs <- rasterize_voxel_stack(
  vm = fuel_vox,
  fuel_rast = aligned_fuel,
  out_dir = tempdir(),
  base_name = "example_voxel",
  voxel_res = 1,
  can_min_z = 1,
  can_max_z = 50
)
}

#' @export
}
